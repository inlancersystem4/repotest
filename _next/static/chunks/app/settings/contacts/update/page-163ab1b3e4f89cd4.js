(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13],{5878:function(e,r,t){Promise.resolve().then(t.bind(t,6647))},3274:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,t(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6647:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return C}});var n=t(7437),s=t(2265),a=t(9343),i=t(1014),l=t(9772),c=t(4987),o=t(7147),d=t(2200),u=t(6463),m=t(6370),f=t(7776),p=t(1444),x=t(6603),b=t(8030);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,b.Z)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),g=(0,b.Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),j=(0,b.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),v=(0,b.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);var y=t(3274),N=t(7101),_=t(7066);let w=[{breadcrumbTitle:"Dashboard",breadcrumbLink:"/"},{breadcrumbTitle:"Settings",breadcrumbLink:"/settings"},{breadcrumbTitle:"Contacts",breadcrumbLink:"/settings/contacts"},{breadcrumbTitle:"Add"}],k=l.z.object({ac_name:l.z.string().min(1,{message:"Contact Name is required"}),ac_number:l.z.string().regex(/^\d+$/,{message:"Contact Number must be a valid number"}),b_name:l.z.string().optional(),b_number:l.z.string().refine(e=>""===e||/^\d+$/.test(e),{message:"Business Number must be a valid number"}).optional(),b_address:l.z.string().optional(),social_accounts:l.z.array(l.z.object({name:l.z.string().optional(),link:l.z.string().optional()}))});function C(){let e=(0,p.v9)(e=>e.universalReducer.business),r=(0,u.useSearchParams)(),t=r.get("type"),l=r.get("id"),b=(0,u.useRouter)(),[C,z]=(0,s.useState)([]),[I,R]=(0,s.useState)([]),[F,G]=(0,s.useState)(!1),T=(0,a.cI)({resolver:(0,i.F)(k),defaultValues:{social_accounts:[{name:"linkedin",link:""},{name:"instagram",link:""},{name:"facebook",link:""},{name:"twitter",link:""}]}}),B=e=>{R(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},E=async()=>{let e=new FormData;e.append("search","");try{let r=await (0,m.l)("label/label-list",e);1===r.success&&z(r.data.labels_list)}catch(e){console.error("Failed to fetch label list:",e)}},S=async()=>{let r=new FormData;r.append("client_no",null==e?void 0:e.wp_cr_client_id),r.append("account_id","edit"===t?l:"");try{let e=await (0,m.l)("wpaccount/account-details",r);if(1===e.success){let{wp_ac_profile_name:r,wp_ac_display_phone_number:t,business_name:n,business_phone_no:s,business_address:a,social_media_url:i,wp_ac_labels_name:l}=e.data;T.reset({ac_name:r,ac_number:t,b_name:n,b_number:s,b_address:a,social_accounts:i.map(e=>({name:e.name,link:e.link}))}),R(l)}}catch(e){console.error("Failed to fetch label list:",e)}},P=async r=>{G(!0);let n=r.social_accounts.map(e=>({name:e.name,link:e.link})),s={...r,social_accounts:n,badges:I},a=new FormData;a.append("wp_account_id","edit"===t?l:""),a.append("wp_account_label",s.badges),a.append("wp_account_client_no",null==e?void 0:e.wp_cr_client_id),a.append("wp_account_number",s.ac_number),a.append("wp_account_name",s.ac_name),a.append("wp_social_media",JSON.stringify(s.social_accounts)),a.append("wp_business_name",s.b_name||""),a.append("wp_business_phone_no",s.b_number||""),a.append("wp_business_address",s.b_address||"");try{let e=await (0,m.l)("wpaccount/add-or-edit-account",a);1===e.success?(G(!1),b.push("/settings/contacts")):(G(!1),(0,f.Am)(e.message))}catch(e){G(!1),console.error("Failed to fetch label list:",e)}};return(0,s.useEffect)(()=>{E()},[]),(0,s.useEffect)(()=>{t?S():b.push("/settings/contacts")},[r]),(0,n.jsx)(c.WB,{breadcrumbNav:w,children:(0,n.jsx)("section",{className:"max-w-6xl mx-auto w-full ",children:(0,n.jsx)(_.l0,{...T,children:(0,n.jsxs)("form",{onSubmit:T.handleSubmit(P),className:"grid grid-cols-3 gap-2.5 w-full",children:[(0,n.jsxs)("div",{className:"col-span-2 space-y-2.5",children:[(0,n.jsxs)("div",{className:"bg-background rounded-xl border border-infoBlue py-2.5 px-3.5 space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)("h4",{className:"text-base font-medium",children:"Contact information"}),(0,n.jsx)("p",{className:"text-greyCustom text-xs",children:"Enter contact personal information"})]}),(0,n.jsx)("div",{className:"w-full space-y-3",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,n.jsx)(_.Wi,{control:T.control,name:"ac_name",render:e=>{let{field:r}=e;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{children:"Contact Name"}),(0,n.jsx)(_.NI,{children:(0,n.jsx)(o.I,{placeholder:"Thor",...r})}),(0,n.jsx)(_.zG,{})]})}}),(0,n.jsx)(_.Wi,{control:T.control,name:"ac_number",render:e=>{let{field:r}=e;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{children:"Contact Number"}),(0,n.jsx)(_.NI,{children:(0,n.jsx)(o.I,{type:"text",placeholder:"8292739839830",...r})}),(0,n.jsx)(_.zG,{})]})}})]})})]}),(0,n.jsxs)("div",{className:"bg-background rounded-xl border border-infoBlue py-2.5 px-3.5 space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsxs)("h4",{className:"text-base font-medium",children:["Contact business information ",(0,n.jsx)("span",{className:"bg-infoBlue text-xs rounded-full px-1.5 py-0.5",children:"Not Required"})," "]}),(0,n.jsx)("p",{className:"text-greyCustom text-xs",children:"Enter contact person business information"})]}),(0,n.jsxs)("div",{className:"w-full space-y-3",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,n.jsx)(_.Wi,{control:T.control,name:"b_name",render:e=>{let{field:r}=e;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{children:"Business Name"}),(0,n.jsx)(_.NI,{children:(0,n.jsx)(o.I,{placeholder:"xyz private limited",...r})}),(0,n.jsx)(_.zG,{})]})}}),(0,n.jsx)(_.Wi,{control:T.control,name:"b_number",render:e=>{let{field:r}=e;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{children:"Business Number"}),(0,n.jsx)(_.NI,{children:(0,n.jsx)(o.I,{type:"text",placeholder:"999152777888",...r})}),(0,n.jsx)(_.zG,{})]})}})]}),(0,n.jsx)("div",{children:(0,n.jsx)(_.Wi,{control:T.control,name:"b_address",render:e=>{let{field:r}=e;return(0,n.jsxs)(_.xJ,{children:[(0,n.jsx)(_.lX,{children:"Business Address"}),(0,n.jsx)(_.NI,{children:(0,n.jsx)(x.g,{placeholder:"16718 Gibson Crossroad, Boscofurt, KS 64026",className:"resize-none",...r})}),(0,n.jsx)(_.zG,{})]})}})})]})]}),(0,n.jsx)("div",{className:"bg-background rounded-xl border border-infoBlue py-2.5 px-3.5 space-y-4 flex justify-end",children:(0,n.jsxs)(d.z,{type:"submit",variant:"outline",className:"rounded-full bg-successGreenLight text-white px-6",disabled:F,children:[F&&(0,n.jsx)(y.Z,{className:"w-5 h-5 animate-spin mr-2.5"}),"Save"]})})]}),(0,n.jsxs)("div",{className:"sticky top-0 space-y-2",children:[(0,n.jsxs)("div",{className:"bg-background rounded-xl border border-infoBlue py-2.5 px-3.5 space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)("h4",{className:"text-base font-medium",children:"Contact person Badge"}),(0,n.jsx)("p",{className:"text-greyCustom text-xs",children:"Enter contact person Badge"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(N.t,{type:"multiple",variant:"outline",className:"justify-start flex-wrap",children:C&&C.map(e=>(0,n.jsx)(N.G,{value:e.label_id,className:"rounded-full !px-5 py-1 h-auto text-sm",onClick:()=>B(e.label_id),children:e.label_name},e.label_id))})})]}),(0,n.jsxs)("div",{className:"bg-background rounded-xl border border-infoBlue py-2.5 px-3.5 space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-0.5",children:[(0,n.jsx)("h4",{className:"text-base font-medium",children:"Contact Social Account"}),(0,n.jsx)("p",{className:"text-greyCustom text-xs",children:"Enter contact person social account"})]}),(0,n.jsx)("div",{children:(0,n.jsx)("ul",{className:"space-y-2",children:[{name:"linkedin",icon:h},{name:"instagram",icon:g},{name:"facebook",icon:j},{name:"twitter",icon:v}].map((e,r)=>(0,n.jsxs)("li",{className:"flex items-center gap-4 w-full",children:[(0,n.jsx)(e.icon,{size:20}),(0,n.jsx)(_.Wi,{className:"w-full",control:T.control,name:"social_accounts.".concat(r,".link"),render:r=>{let{field:t}=r;return(0,n.jsxs)(_.xJ,{className:"w-full space-y-1",children:[(0,n.jsx)(_.lX,{children:e.name.charAt(0).toUpperCase()+e.name.slice(1)}),(0,n.jsx)(_.NI,{children:(0,n.jsx)(o.I,{type:"text",className:"w-full",placeholder:"Enter ".concat(e.name," URL"),...t})}),(0,n.jsx)(_.zG,{})]})}})]},r))})})]})]})]})})})})}},7066:function(e,r,t){"use strict";t.d(r,{NI:function(){return b},Wi:function(){return u},l0:function(){return o},lX:function(){return x},pf:function(){return h},xJ:function(){return p},zG:function(){return g}});var n=t(7437),s=t(2265),a=t(1538),i=t(9343),l=t(8214),c=t(3277);let o=i.RV,d=s.createContext({}),u=e=>{let{...r}=e;return(0,n.jsx)(d.Provider,{value:{name:r.name},children:(0,n.jsx)(i.Qr,{...r})})},m=()=>{let e=s.useContext(d),r=s.useContext(f),{getFieldState:t,formState:n}=(0,i.Gc)(),a=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},f=s.createContext({}),p=s.forwardRef((e,r)=>{let{className:t,...a}=e,i=s.useId();return(0,n.jsx)(f.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",t),...a})})});p.displayName="FormItem";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e,{error:a,formItemId:i}=m();return(0,n.jsx)(c._,{ref:r,className:(0,l.cn)(a&&"text-destructive",t),htmlFor:i,...s})});x.displayName="FormLabel";let b=s.forwardRef((e,r)=>{let{...t}=e,{error:s,formItemId:i,formDescriptionId:l,formMessageId:c}=m();return(0,n.jsx)(a.g7,{ref:r,id:i,"aria-describedby":s?"".concat(l," ").concat(c):"".concat(l),"aria-invalid":!!s,...t})});b.displayName="FormControl";let h=s.forwardRef((e,r)=>{let{className:t,...s}=e,{formDescriptionId:a}=m();return(0,n.jsx)("p",{ref:r,id:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...s})});h.displayName="FormDescription";let g=s.forwardRef((e,r)=>{let{className:t,children:s,...a}=e,{error:i,formMessageId:c}=m(),o=i?String(null==i?void 0:i.message):s;return o?(0,n.jsx)("p",{ref:r,id:c,className:(0,l.cn)("text-sm font-medium text-destructive",t),...a,children:o}):null});g.displayName="FormMessage"},7147:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var n=t(7437),s=t(2265),a=t(8214);let i=s.forwardRef((e,r)=>{let{className:t,type:s,...i}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},3277:function(e,r,t){"use strict";t.d(r,{_:function(){return o}});var n=t(7437),s=t(2265),a=t(8364),i=t(2218),l=t(8214);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.f,{ref:r,className:(0,l.cn)(c(),t),...s})});o.displayName=a.f.displayName},6603:function(e,r,t){"use strict";t.d(r,{g:function(){return i}});var n=t(7437),s=t(2265),a=t(8214);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s})});i.displayName="Textarea"},7101:function(e,r,t){"use strict";t.d(r,{t:function(){return d},G:function(){return u}});var n=t(7437),s=t(2265),a=t(5750),i=t(8214),l=t(9425);let c=(0,t(2218).j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});s.forwardRef((e,r)=>{let{className:t,variant:s,size:a,...o}=e;return(0,n.jsx)(l.f,{ref:r,className:(0,i.cn)(c({variant:s,size:a,className:t})),...o})}).displayName=l.f.displayName;let o=s.createContext({size:"default",variant:"default"}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,children:c,...d}=e;return(0,n.jsx)(a.fC,{ref:r,className:(0,i.cn)("flex items-center justify-center gap-1",t),...d,children:(0,n.jsx)(o.Provider,{value:{variant:s,size:l},children:c})})});d.displayName=a.fC.displayName;let u=s.forwardRef((e,r)=>{let{className:t,children:l,variant:d,size:u,...m}=e,f=s.useContext(o);return(0,n.jsx)(a.ck,{ref:r,className:(0,i.cn)(c({variant:f.variant||d,size:f.size||u}),t),...m,children:l})});u.displayName=a.ck.displayName},5750:function(e,r,t){"use strict";t.d(r,{ck:function(){return z},fC:function(){return C}});var n=t(2265),s=t(8324),a=t(5171),i=t(3398),l=t(9425),c=t(1715),o=t(7513),d=t(7437),u="ToggleGroup",[m,f]=(0,s.b)(u,[i.Pc]),p=(0,i.Pc)(),x=n.forwardRef((e,r)=>{let{type:t,...n}=e;if("single"===t)return(0,d.jsx)(g,{...n,ref:r});if("multiple"===t)return(0,d.jsx)(j,{...n,ref:r});throw Error("Missing prop `type` expected on `".concat(u,"`"))});x.displayName=u;var[b,h]=m(u),g=n.forwardRef((e,r)=>{let{value:t,defaultValue:s,onValueChange:a=()=>{},...i}=e,[l,o]=(0,c.T)({prop:t,defaultProp:s,onChange:a});return(0,d.jsx)(b,{scope:e.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:o,onItemDeactivate:n.useCallback(()=>o(""),[o]),children:(0,d.jsx)(N,{...i,ref:r})})}),j=n.forwardRef((e,r)=>{let{value:t,defaultValue:s,onValueChange:a=()=>{},...i}=e,[l=[],o]=(0,c.T)({prop:t,defaultProp:s,onChange:a}),u=n.useCallback(e=>o(function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...r,e]}),[o]),m=n.useCallback(e=>o(function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.filter(r=>r!==e)}),[o]);return(0,d.jsx)(b,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:u,onItemDeactivate:m,children:(0,d.jsx)(N,{...i,ref:r})})});x.displayName=u;var[v,y]=m(u),N=n.forwardRef((e,r)=>{let{__scopeToggleGroup:t,disabled:n=!1,rovingFocus:s=!0,orientation:l,dir:c,loop:u=!0,...m}=e,f=p(t),x=(0,o.gm)(c),b={role:"group",dir:x,...m};return(0,d.jsx)(v,{scope:t,rovingFocus:s,disabled:n,children:s?(0,d.jsx)(i.fC,{asChild:!0,...f,orientation:l,dir:x,loop:u,children:(0,d.jsx)(a.WV.div,{...b,ref:r})}):(0,d.jsx)(a.WV.div,{...b,ref:r})})}),_="ToggleGroupItem",w=n.forwardRef((e,r)=>{let t=h(_,e.__scopeToggleGroup),s=y(_,e.__scopeToggleGroup),a=p(e.__scopeToggleGroup),l=t.value.includes(e.value),c=s.disabled||e.disabled,o={...e,pressed:l,disabled:c},u=n.useRef(null);return s.rovingFocus?(0,d.jsx)(i.ck,{asChild:!0,...a,focusable:!c,active:l,ref:u,children:(0,d.jsx)(k,{...o,ref:r})}):(0,d.jsx)(k,{...o,ref:r})});w.displayName=_;var k=n.forwardRef((e,r)=>{let{__scopeToggleGroup:t,value:n,...s}=e,a=h(_,t),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},c="single"===a.type?i:void 0;return(0,d.jsx)(l.Z,{...c,...s,ref:r,onPressedChange:e=>{e?a.onItemActivate(n):a.onItemDeactivate(n)}})}),C=x,z=w},9425:function(e,r,t){"use strict";t.d(r,{Z:function(){return c},f:function(){return o}});var n=t(2265),s=t(8149),a=t(1715),i=t(5171),l=t(7437),c=n.forwardRef((e,r)=>{let{pressed:t,defaultPressed:n=!1,onPressedChange:c,...o}=e,[d=!1,u]=(0,a.T)({prop:t,onChange:c,defaultProp:n});return(0,l.jsx)(i.WV.button,{type:"button","aria-pressed":d,"data-state":d?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:r,onClick:(0,s.M)(e.onClick,()=>{e.disabled||u(!d)})})});c.displayName="Toggle";var o=c}},function(e){e.O(0,[864,601,306,374,212,971,23,744],function(){return e(e.s=5878)}),_N_E=e.O()}]);