(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{7736:function(e,t,s){Promise.resolve().then(s.bind(s,6986))},2151:function(e,t,s){var a=0/0,r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g,o="object"==typeof self&&self&&self.Object===Object&&self,u=d||o||Function("return this")(),f=Object.prototype.toString,x=Math.max,m=Math.min,p=function(){return u.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return a;if(h(e)){var t,s="function"==typeof e.valueOf?e.valueOf():e;e=h(s)?s+"":s}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var d=l.test(e);return d||i.test(e)?c(e.slice(2),d?2:8):n.test(e)?a:+e}e.exports=function(e,t,s){var a,r,n,l,i,c,d=0,o=!1,u=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var s=a,n=r;return a=r=void 0,d=t,l=e.apply(n,s)}function N(e){var s=e-c,a=e-d;return void 0===c||s>=t||s<0||u&&a>=n}function w(){var e,s,a,r=p();if(N(r))return y(r);i=setTimeout(w,(e=r-c,s=r-d,a=t-e,u?m(a,n-s):a))}function y(e){return(i=void 0,f&&a)?j(e):(a=r=void 0,l)}function g(){var e,s=p(),n=N(s);if(a=arguments,r=this,c=s,n){if(void 0===i)return d=e=c,i=setTimeout(w,t),o?j(e):l;if(u)return i=setTimeout(w,t),j(c)}return void 0===i&&(i=setTimeout(w,t)),l}return t=b(t)||0,h(s)&&(o=!!s.leading,n=(u="maxWait"in s)?x(b(s.maxWait)||0,t):n,f="trailing"in s?!!s.trailing:f),g.cancel=function(){void 0!==i&&clearTimeout(i),d=0,a=c=r=i=void 0},g.flush=function(){return void 0===i?l:y(p())},g}},4559:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},2513:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},399:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},6986:function(e,t,s){"use strict";s.r(t),s.d(t,{ContactList:function(){return y},ContactListSkeleton:function(){return g},default:function(){return w}});var a=s(7437),r=s(2265),n=s(4987),l=s(1310),i=s(2200),c=s(7147),d=s(1444),o=s(635),u=s(2513),f=s(4559),x=s(399),m=s(6370),p=s(7138),h=s(1623),b=s(2151),j=s.n(b);let N=[{breadcrumbTitle:"Dashboard",breadcrumbLink:"/"},{breadcrumbTitle:"Settings",breadcrumbLink:"/settings"},{breadcrumbTitle:"Contacts List"}];function w(){let e=(0,d.v9)(e=>e.universalReducer.business),[t,s]=(0,r.useState)([]),[o,f]=(0,r.useState)(1),[x,h]=(0,r.useState)(1),[b,w]=(0,r.useState)(""),[v,k]=(0,r.useState)(null==e?void 0:e.wp_cr_client_id),[_,C]=(0,r.useState)(!1),T=(0,r.useCallback)(j()(e=>{w(e)},1e3),[]),O=(0,r.useCallback)(async()=>{C(!0);let e=new FormData;e.append("client_no",v),e.append("sort","desc"),e.append("skip",o),e.append("search",b);try{let t=await (0,m.l)("wpaccount/whatsapp-chat-list",e);1===t.success&&(s(t.data.contact_list),h(t.data.total_pages))}catch(e){console.error("Failed to fetch template list:",e)}finally{C(!1)}},[o,b,v]);return(0,r.useEffect)(()=>{k(null==e?void 0:e.wp_cr_client_id)},[e]),(0,r.useEffect)(()=>{O()},[o,b,v]),(0,a.jsx)(n.WB,{breadcrumbNav:N,children:(0,a.jsxs)("section",{className:"w-full max-w-4xl mx-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-stretch gap-4",children:[(0,a.jsx)(c.I,{type:"text",onChange:e=>{T(e.target.value)},placeholder:"Search"}),(0,a.jsxs)("div",{className:"flex items-stretch  divide-x divide-successGreenLight",children:[(0,a.jsx)(i.z,{className:"border-successGreenLight bg-transparent text-successGreenLight rounded-full px-5 py-1.5 text-base border-e-0 rounded-e-none",variant:"outline",children:"Export"}),(0,a.jsx)(i.z,{className:"border-successGreenLight bg-transparent text-successGreenLight rounded-full px-5 py-1.5 text-base border-s-0 rounded-s-none",variant:"outline",children:"Import"})]}),(0,a.jsx)(i.z,{className:"bg-successGreenLight rounded-full px-5 py-1.5 text-lg",asChild:!0,children:(0,a.jsxs)(p.default,{href:{pathname:"/settings/contacts/update",query:{type:"add"}},children:[" ",(0,a.jsx)(u.Z,{className:"mr-1.5 w-5 h-5"})," Create"]})})]}),(0,a.jsx)("div",{className:"bg-background rounded-lg border border-infoBlue w-full divide-y divide-infoBlue custom-box-shadow",children:_?(0,a.jsx)(g,{}):(0,a.jsx)(y,{list:t})}),x>1&&(0,a.jsx)("div",{className:"py-2.5 px-2",children:(0,a.jsx)("div",{className:"flex items-center justify-end w-full",children:(0,a.jsx)(l.t,{currentPage:o,totalPage:x,onPageChange:e=>f(e)})})})]})})}function y(e){let{list:t}=e;return(0,a.jsxs)(h.iA,{children:[(0,a.jsx)(h.xD,{children:(0,a.jsxs)(h.SC,{className:"divide-x divide-infoBlue",children:[(0,a.jsx)(h.ss,{className:"font-medium w-[190px] text-black text-base",children:"Name"}),(0,a.jsx)(h.ss,{className:"font-medium w-[220px] text-black text-base",children:"Phone Number"}),(0,a.jsx)(h.ss,{className:"w-[290px] font-medium text-black text-base",children:"Tags"}),(0,a.jsx)(h.ss,{className:"w-[130px] font-medium text-black text-base",children:"Actions"})]})}),(0,a.jsx)(h.RM,{children:t&&t.length>0?t.map((e,t)=>(0,a.jsxs)(h.SC,{children:[(0,a.jsx)(h.pj,{className:"py-1.5 w-[190px]",children:e.wp_ac_profile_name||"-"}),(0,a.jsx)(h.pj,{className:"py-1.5 w-[220px]",children:e.wp_ac_display_phone_number}),(0,a.jsx)(h.pj,{className:"w-[290px] py-1.5",children:(0,a.jsx)("ul",{className:"flex items-stretch flex-wrap overflow-auto gap-1",children:e.wp_ac_labels_name&&e.wp_ac_labels_name.map((e,t)=>(0,a.jsx)("li",{className:"border border-infoBlue rounded-md w-max px-5 py-1",children:e},t))})}),(0,a.jsxs)(h.pj,{className:"w-[130px] flex gap-2.5 py-1.5",children:[(0,a.jsx)(i.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",asChild:!0,children:(0,a.jsx)(p.default,{href:{pathname:"/settings/contacts/update",query:{type:"edit",id:e.wp_ac_id}},className:"block",children:(0,a.jsx)(f.Z,{className:"h-5 w-5"})})}),(0,a.jsx)(i.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",children:(0,a.jsx)(x.Z,{className:"h-5 w-5"})})]})]},t)):(0,a.jsx)(h.SC,{children:(0,a.jsx)(h.pj,{colSpan:5,className:"py-4 text-center text-gray-500",children:"List not found!"})})})]})}function g(){return(0,a.jsxs)(h.iA,{children:[(0,a.jsx)(h.xD,{children:(0,a.jsxs)(h.SC,{className:"divide-x divide-infoBlue",children:[(0,a.jsx)(h.ss,{className:"font-medium text-black text-base",children:"Name"}),(0,a.jsx)(h.ss,{className:"font-medium text-black text-base",children:"Phone Number"}),(0,a.jsx)(h.ss,{className:"w-[150px] font-medium text-black text-base",children:"Tags"}),(0,a.jsx)(h.ss,{className:"w-[150px] font-medium text-black text-base",children:"Created On"}),(0,a.jsx)(h.ss,{className:"w-[130px] font-medium text-black text-base",children:"Actions"})]})}),(0,a.jsx)(h.RM,{children:[...Array(10)].map((e,t)=>(0,a.jsxs)(h.SC,{children:[(0,a.jsx)(h.pj,{className:"py-1.5  h-6",children:(0,a.jsx)(o.O,{className:"h-4 w-[140px]"})}),(0,a.jsx)(h.pj,{className:"py-1.5  h-6",children:(0,a.jsx)(o.O,{className:"h-4 w-[150px]"})}),(0,a.jsx)(h.pj,{className:"w-[150px] py-1.5  h-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.O,{className:"h-2.5 w-[60px]"}),(0,a.jsx)(o.O,{className:"h-2.5 w-[60px]"})]})}),(0,a.jsx)(h.pj,{className:"w-[150px] py-1.5  h-6",children:(0,a.jsx)(o.O,{className:"h-4 w-[140px]"})}),(0,a.jsx)(h.pj,{className:"w-[130px] py-1.5 gap-2 h-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(o.O,{className:"h-6 w-6"}),(0,a.jsx)(o.O,{className:"h-6 w-6"})]})})]},t))})]})}},7147:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var a=s(7437),r=s(2265),n=s(8214);let l=r.forwardRef((e,t)=>{let{className:s,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},635:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(7437),r=s(8214);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",t),...s})}},1623:function(e,t,s){"use strict";s.d(t,{RM:function(){return c},SC:function(){return d},iA:function(){return l},pj:function(){return u},ss:function(){return o},xD:function(){return i}});var a=s(7437),r=s(2265),n=s(8214);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...r})})});l.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...r})});i.displayName="TableHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...r})});c.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});d.displayName="TableRow";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});o.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"}},function(e){e.O(0,[864,601,212,971,23,744],function(){return e(e.s=7736)}),_N_E=e.O()}]);