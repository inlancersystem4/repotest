(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{3459:function(e,t,s){Promise.resolve().then(s.bind(s,3307))},5733:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4559:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},7583:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},399:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},3307:function(e,t,s){"use strict";s.r(t),s.d(t,{TemplateListSkeleton:function(){return S},default:function(){return O}});var a=s(7437),l=s(2265),n=s(4987),r=s(2200),i=s(7147),c=s(1310),d=s(635),o=s(6370),u=s(1444),m=s(1337),x=s(7583),p=s(2421);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,s(8030).Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var f=s(5733),j=s(4559),b=s(399),N=s(8309),v=s(7138),w=s(4634),g=s(6648),y=s(9832),k=s(1510);function _(e){let{templateContent:t}=e;return(0,a.jsx)("div",{className:"w-full px-1.5 py-8 whatsapp-bg-image",children:(0,a.jsx)("div",{className:"bg-background rounded-lg max-w-64 overflow-hidden z-50 relative  shadow-xl",children:(0,a.jsx)("div",{className:"w-full space-y-0.5 ",children:t.components.map((e,s)=>{if("HEADER"===e.type){if("TEXT"===e.format)return(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm px-1.5 font-semibold pb-1 pt-1.5",children:e.text})},s);if("VIDEO"===e.format){let e=t.video_url;return(0,a.jsx)("div",{className:"px-1.5",children:(0,a.jsxs)("video",{width:"250",height:"60",controls:!0,children:[(0,a.jsx)("source",{src:e,type:"video/mp4"}),"Your browser does not support the video tag."]})},s)}if("IMAGE"===e.format){let t=e.example.header_handle[0];return(0,a.jsx)("div",{className:"px-1.5",children:(0,a.jsx)(g.default,{width:250,height:60,src:t,alt:t})},s)}if("DOCUMENT"===e.format){let t=e.example.header_handle[0];return(0,a.jsx)("div",{className:"px-1.5",children:(0,a.jsx)("embed",{src:t,type:"application/pdf",width:250,height:250})},s)}}if("BODY"===e.type&&e.text)return(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm pb-1 px-1.5",children:e.text})},s);if("FOOTER"===e.type&&e.text){let t=e.text;return(0,a.jsx)("div",{className:"px-1.5 pb-1.5",children:(0,a.jsx)("p",{className:"text-sm text-gray-400",children:t})},s)}return"BUTTONS"===e.type&&e.buttons?e.buttons.map((e,t)=>(0,a.jsxs)(r.z,{variant:"ghost",className:"text-center text-sm justify-center w-full border-t border-solid border-theme_grey_20 capitalize rounded-none h-auto py-2 text-cyan-500",children:["PHONE_NUMBER"===e.type&&(0,a.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"QUICK_REPLY"===e.type&&(0,a.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),e.text]},t)):null})})})})}var C=s(1623),E=s(2151),R=s.n(E);let z=[{breadcrumbTitle:"Dashboard",breadcrumbLink:"/"},{breadcrumbTitle:"Templates"}];function O(){var e;let t=(0,u.v9)(e=>e.universalReducer.business),s=(0,u.I0)(),[d,f]=(0,l.useState)([]),[j,b]=(0,l.useState)([]),[w,g]=(0,l.useState)(!1),[y,k]=(0,l.useState)(null==t?void 0:t.wp_cr_client_id),[_,C]=(0,l.useState)(1),[E,O]=(0,l.useState)(1),[M,Z]=(0,l.useState)(1),[L,D]=(0,l.useState)(""),[P,A]=(0,l.useState)(!1),B=e=>{let t={APPROVED:1,PENDING:0,REJECTED:2,INREVIEW:3};t.hasOwnProperty(e.status_name)&&Z(t[e.status_name])},I=(0,l.useCallback)(async()=>{let e=new FormData;e.append("skip","all");try{let t=await (0,o.l)("credentials/credential-business-number-list",e);1===t.success&&f(t.data.credential_list)}catch(e){console.error("Failed to fetch business list:",e)}},[]),F=e=>{k(null==e?void 0:e.wp_cr_client_id),s((0,m.Mu)(e))},G=(0,l.useCallback)(R()(e=>{D(e)},1e3),[]),V=(0,l.useCallback)(async()=>{A(!0);let e=new FormData;e.append("temp_client",y),e.append("sync",w?1:0),e.append("template_status",M),e.append("skip",_),e.append("search",L);try{let t=await (0,o.l)("template/template-list",e);1===t.success&&(b(t.data),O(t.data.total_pages))}catch(e){console.error("Failed to fetch template list:",e)}finally{g(!1),A(!1)}},[_,w,M,y,L]);return(0,l.useEffect)(()=>{I()},[I]),(0,l.useEffect)(()=>{k(null==t?void 0:t.wp_cr_client_id)},[t]),(0,l.useEffect)(()=>{V()},[_,w,M,y,L]),(0,a.jsx)(n.WB,{breadcrumbNav:z,children:(0,a.jsxs)("section",{className:"w-full max-w-4xl mx-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(N.h_,{children:[(0,a.jsx)(N.$F,{asChild:!0,children:(0,a.jsxs)(r.z,{variant:"outline",className:"border-successGreenLight bg-transparent text-successGreenLight",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(x.Z,{}),(0,a.jsx)("p",{children:null==t?void 0:t.wp_cr_business_name})]}),d&&d.length>1&&(0,a.jsx)(p.Z,{className:"ml-6"})]})}),(0,a.jsx)(N.AW,{className:"w-56",children:d&&d.length>0?d.map((e,t)=>(0,a.jsx)(N.Xi,{onClick:()=>F(e),children:(0,a.jsx)("span",{children:null==e?void 0:e.wp_cr_business_name})},t)):null})]})}),(0,a.jsx)(r.z,{className:"bg-successGreenLight rounded-full px-5 py-1.5 text-lg",asChild:!0,children:(0,a.jsx)(v.default,{href:"/templates/create-template",children:"Create Template"})})]}),(0,a.jsxs)("div",{className:"bg-background rounded-lg border border-infoBlue w-full divide-y divide-infoBlue custom-box-shadow",children:[(0,a.jsx)("ul",{className:"w-full flex items-stretch gap-0.5 px-2.5",children:null==j?void 0:null===(e=j.status_counts)||void 0===e?void 0:e.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsxs)(r.z,{disabled:0===e.count,onClick:()=>B(e),variant:"ghost",children:[(0,a.jsx)("p",{className:"capitalize text-xs mr-4",children:e.status_name}),(0,a.jsx)("span",{className:"text-xs min-w-5 min-h-5 ".concat(e.status_name," max-w-5 max-h-5 flex items-center justify-center rounded-full disabled:opacity-50 disabled:cursor-no-drop text-center"),children:e.count})]})},t))}),(0,a.jsxs)("div",{className:"w-full py-1.5 px-2.5 flex items-stretch gap-4",children:[(0,a.jsx)(i.I,{placeholder:"Search templates",className:"border-infoBlue",onChange:e=>{G(e.target.value)}}),(0,a.jsxs)(r.z,{disabled:w,variant:"outline",onClick:()=>g(e=>!e),className:"bg-transparent text-successGreenLight border-successGreenLight rounded-full px-5 py-1.5 text-lg",children:[(0,a.jsx)(h,{className:"mr-2 h-4 w-4 ".concat(w?"animate-spin":"")}),"Sync"]})]}),(0,a.jsx)("div",{className:"w-full",children:P?(0,a.jsx)(S,{}):(0,a.jsx)(T,{list:j})})]}),E>1&&(0,a.jsx)("div",{className:"py-2.5 px-2",children:(0,a.jsx)("div",{className:"flex items-center justify-end w-full",children:(0,a.jsx)(c.t,{currentPage:_,totalPage:E,onPageChange:e=>C(e)})})})]})})}function T(e){let{list:t}=e;return(0,a.jsxs)(C.iA,{children:[(0,a.jsx)(C.xD,{children:(0,a.jsxs)(C.SC,{className:"divide-x divide-infoBlue",children:[(0,a.jsx)(C.ss,{className:"font-medium text-black text-base",children:"Name"}),(0,a.jsx)(C.ss,{className:"font-medium text-black text-base",children:"Preview"}),(0,a.jsx)(C.ss,{className:"w-[150px] font-medium text-black text-base",children:"Language"}),(0,a.jsx)(C.ss,{className:"w-[180px] font-medium text-black text-base",children:"Actions"})]})}),(0,a.jsx)(C.RM,{children:t.data&&t.data.length>0?t.data.map((e,t)=>{var s;return(0,a.jsxs)(C.SC,{children:[(0,a.jsx)(C.pj,{className:"text-successGreenLight py-1.5",children:e.name}),(0,a.jsx)(C.pj,{className:"py-1.5",children:null===(s=e.components)||void 0===s?void 0:s.map((e,t)=>(0,a.jsx)("p",{className:"line-clamp-1",children:(null==e?void 0:e.type)==="BODY"&&e.text},t))}),(0,a.jsx)(C.pj,{className:"w-[150px] py-1.5",children:(0,a.jsx)("p",{className:"border border-infoBlue rounded-md w-fit px-5 py-1",children:e.language})}),(0,a.jsxs)(C.pj,{className:"w-[180px] flex gap-2.5 py-1.5",children:[(0,a.jsxs)(w.J2,{children:[(0,a.jsx)(w.xo,{asChild:!0,children:(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",children:(0,a.jsx)(f.Z,{className:"h-5 w-5"})})}),(0,a.jsx)(w.yk,{sideOffset:2,align:"end",side:"bottom",className:" p-0 rounded-xl overflow-hidden bg-background border-theme_grey_20",children:(0,a.jsx)(_,{templateContent:e})})]}),(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",asChild:!0,children:(0,a.jsx)(v.default,{href:{pathname:"/templates/edit-template",query:{id:e.temp_id,token:e.temp_client}},className:"block",children:(0,a.jsx)(j.Z,{className:"h-5 w-5"})})}),(0,a.jsx)(r.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",children:(0,a.jsx)(b.Z,{className:"h-5 w-5"})})]})]},t)}):(0,a.jsx)(C.SC,{children:(0,a.jsx)(C.pj,{colSpan:4,className:"py-4 text-center text-gray-500",children:"List not found!"})})})]})}function S(){return(0,a.jsxs)(C.iA,{children:[(0,a.jsx)(C.xD,{children:(0,a.jsxs)(C.SC,{className:"divide-x divide-infoBlue",children:[(0,a.jsx)(C.ss,{className:"font-medium text-black text-base",children:"Name"}),(0,a.jsx)(C.ss,{className:"font-medium text-black text-base",children:"Preview"}),(0,a.jsx)(C.ss,{className:"w-[150px] font-medium text-black text-base",children:"Language"}),(0,a.jsx)(C.ss,{className:"w-[180px] font-medium text-black text-base",children:"Actions"})]})}),(0,a.jsx)(C.RM,{children:[...Array(10)].map((e,t)=>(0,a.jsxs)(C.SC,{children:[(0,a.jsx)(C.pj,{className:"py-1.5  h-6",children:(0,a.jsx)(d.O,{className:"h-4 w-[140px]"})}),(0,a.jsx)(C.pj,{className:"py-1.5  h-6",children:(0,a.jsx)(d.O,{className:"h-4 w-[240px]"})}),(0,a.jsx)(C.pj,{className:"w-[150px] py-1.5  h-6",children:(0,a.jsx)(d.O,{className:"h-4 w-[60px]"})}),(0,a.jsx)(C.pj,{className:"w-[180px] py-1.5 h-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(d.O,{className:"h-5 w-5"}),(0,a.jsx)(d.O,{className:"h-5 w-5"}),(0,a.jsx)(d.O,{className:"h-5 w-5"})]})})]},t))})]})}},7147:function(e,t,s){"use strict";s.d(t,{I:function(){return r}});var a=s(7437),l=s(2265),n=s(8214);let r=l.forwardRef((e,t)=>{let{className:s,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});r.displayName="Input"},4634:function(e,t,s){"use strict";s.d(t,{J2:function(){return i},xo:function(){return c},yk:function(){return d}});var a=s(7437),l=s(2265),n=s(1485),r=s(8214);let i=n.fC,c=n.xz,d=l.forwardRef((e,t)=>{let{className:s,align:l="center",sideOffset:i=4,...c}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsx)(n.VY,{ref:t,align:l,sideOffset:i,className:(0,r.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...c})})});d.displayName=n.VY.displayName},635:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(7437),l=s(8214);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",t),...s})}},1623:function(e,t,s){"use strict";s.d(t,{RM:function(){return c},SC:function(){return d},iA:function(){return r},pj:function(){return u},ss:function(){return o},xD:function(){return i}});var a=s(7437),l=s(2265),n=s(8214);let r=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...l})})});r.displayName="Table";let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...l})});i.displayName="TableHeader";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...l})});c.displayName="TableBody",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...l})}).displayName="TableFooter";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...l})});d.displayName="TableRow";let o=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...l})});o.displayName="TableHead";let u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...l})});u.displayName="TableCell",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...l})}).displayName="TableCaption"}},function(e){e.O(0,[864,601,154,212,971,23,744],function(){return e(e.s=3459)}),_N_E=e.O()}]);