(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{3431:function(e,t,s){Promise.resolve().then(s.bind(s,2730))},5733:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4559:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("FilePenLine",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]])},7583:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},399:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},2730:function(e,t,s){"use strict";s.r(t),s.d(t,{CampaignList:function(){return y},CampaignSkeleton:function(){return _},default:function(){return w}});var a=s(7437),n=s(2265),r=s(4987),l=s(2200),i=s(7583),c=s(2421),o=s(5733),d=s(4559),u=s(399),p=s(1310),x=s(1444),m=s(6370),f=s(1337),h=s(635),j=s(8309),b=s(4634),v=s(7138),N=s(1623);let g=[{breadcrumbTitle:"Dashboard",breadcrumbLink:"/"},{breadcrumbTitle:"Campaigns"}];function w(){let e=(0,x.v9)(e=>e.universalReducer.business),t=(0,x.I0)(),[s,o]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[h,b]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null==e?void 0:e.wp_cr_client_id),[C,k]=(0,n.useState)(1),[R,P]=(0,n.useState)(1),O=e=>{w(e.wp_cr_client_id),t((0,f.Mu)(e))},F=(0,n.useCallback)(async()=>{let e=new FormData;e.append("skip","all");try{let t=await (0,m.l)("credentials/credential-business-number-list",e);1===t.success&&u(t.data.credential_list)}catch(e){console.error("Failed to fetch business list:",e)}},[]),M=(0,n.useCallback)(async()=>{b(!0);let e=new FormData;e.append("client_no",N),e.append("skip",C),e.append("search","");try{let t=await (0,m.l)("campaign/campaign-list",e);1===t.success?(b(!1),o(t.data.campaign_list),P(t.data.total_pages)):b(!1)}catch(e){b(!1),console.error("Failed to fetch business list:",e)}},[C,N]);return(0,n.useEffect)(()=>{M()},[C,N,M]),(0,n.useEffect)(()=>{F()},[F]),(0,a.jsx)(r.WB,{breadcrumbNav:g,children:(0,a.jsxs)("section",{className:"w-full max-w-4xl mx-auto space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(j.h_,{children:[(0,a.jsx)(j.$F,{asChild:!0,children:(0,a.jsxs)(l.z,{variant:"outline",className:"border-successGreenLight bg-transparent text-successGreenLight",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("p",{children:null==e?void 0:e.wp_cr_business_name})]}),d&&d.length>1&&(0,a.jsx)(c.Z,{className:"ml-6"})]})}),(0,a.jsx)(j.AW,{className:"w-56",children:d&&d.length>0?d.map((e,t)=>(0,a.jsx)(j.Xi,{onClick:()=>O(e),children:(0,a.jsx)("span",{children:null==e?void 0:e.wp_cr_business_name})},t)):null})]})}),(0,a.jsx)(l.z,{className:"bg-successGreenLight rounded-full px-5 py-1.5 text-lg",asChild:!0,children:(0,a.jsx)(v.default,{href:{pathname:"/campaign/update",query:{type:"add"}},children:"Create Broadcast"})})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"bg-background rounded-lg border border-infoBlue w-full divide-y divide-infoBlue custom-box-shadow",children:h?(0,a.jsx)(_,{}):(0,a.jsx)(y,{list:s})})}),R>1&&(0,a.jsx)("div",{className:"py-2.5 px-2",children:(0,a.jsx)("div",{className:"flex items-center justify-end w-full",children:(0,a.jsx)(p.t,{currentPage:C,totalPage:R,onPageChange:e=>k(e)})})})]})})}function y(e){let{list:t}=e;return(0,a.jsxs)(N.iA,{children:[(0,a.jsx)(N.xD,{children:(0,a.jsxs)(N.SC,{className:"divide-x divide-infoBlue",children:[(0,a.jsx)(N.ss,{className:"w-[150px] font-medium text-black text-base",children:"Name"}),(0,a.jsx)(N.ss,{className:"w-[140px] font-medium text-black text-base",children:"Total contacts"}),(0,a.jsx)(N.ss,{className:"w-[150px] font-medium text-black text-base",children:"Status"}),(0,a.jsx)(N.ss,{className:"w-[180px] font-medium text-black text-base",children:"Sent at"}),(0,a.jsx)(N.ss,{className:"w-[150px] font-medium text-black text-base",children:"Actions"})]})}),(0,a.jsx)(N.RM,{children:t&&t.length>0?t.map((e,t)=>(0,a.jsxs)(N.SC,{children:[(0,a.jsx)(N.pj,{className:"text-successGreenLight w-[150px]  py-1.5",children:e.campaign_name}),(0,a.jsx)(N.pj,{className:"w-[140px] py-1.5",children:(0,a.jsx)("p",{className:" mx-auto w-fit px-5 py-1",children:e.contact_count})}),(0,a.jsx)(N.pj,{className:"w-[150px] py-1.5",children:(0,a.jsx)("p",{className:"border border-infoBlue bg-[#EDF4FF] rounded-md w-fit px-5 py-1",children:e.campaign_status})}),(0,a.jsx)(N.pj,{className:"w-[180px] py-1.5",children:(0,a.jsx)("p",{className:"border border-infoBlue  rounded-md w-fit px-5 py-1",children:e.campaign_date})}),(0,a.jsxs)(N.pj,{className:"w-[150px] flex gap-2.5 py-1.5",children:[(0,a.jsxs)(b.J2,{children:[(0,a.jsx)(b.xo,{asChild:!0,children:(0,a.jsx)(l.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",children:(0,a.jsx)(o.Z,{className:"h-5 w-5"})})}),(0,a.jsx)(b.yk,{className:"w-44 border border-solid border-infoBlue p-2 custom-box-shadow",children:(0,a.jsxs)("div",{className:"space-y-1.5 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("p",{className:"text-base",children:"Sent"}),(0,a.jsx)("p",{className:"text-successGreenLight text-base",children:e.campaign_meta_send_msg_count||"-"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("p",{className:"text-base",children:"Delivered"}),(0,a.jsx)("p",{className:"text-successGreenLight text-base",children:e.campaign_meta_delivered_msg_count||"-"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("p",{className:"text-base",children:"Read"}),(0,a.jsx)("p",{className:"text-successGreenLight text-base",children:e.campaign_meta_read_msg_count||"-"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("p",{className:"text-base",children:"replied"}),(0,a.jsx)("p",{className:"text-successGreenLight text-base",children:e.campaign_meta_replay_msg_count||"-"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("p",{className:"text-base",children:"Failed"}),(0,a.jsx)("p",{className:"text-successGreenLight text-base",children:e.campaign_meta_failed_msg_count||"-"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("p",{className:"text-base",children:"System send"}),(0,a.jsx)("p",{className:"text-successGreenLight text-base",children:e.campaign_system_send_msg_count||"-"})]})]})})]}),(0,a.jsx)(l.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",asChild:!0,children:(0,a.jsx)(v.default,{href:{pathname:"/templates/edit-template",query:{id:e.temp_id,token:e.temp_client}},className:"block",children:(0,a.jsx)(d.Z,{className:"h-5 w-5"})})}),(0,a.jsx)(l.z,{variant:"ghost",size:"icon",className:"max-w-9 max-h-9",children:(0,a.jsx)(u.Z,{className:"h-5 w-5"})})]})]},t)):(0,a.jsx)(N.SC,{children:(0,a.jsx)(N.pj,{colSpan:5,className:"py-4 text-center text-gray-500",children:"List not found!"})})})]})}function _(){return(0,a.jsxs)(N.iA,{children:[(0,a.jsx)(N.xD,{children:(0,a.jsxs)(N.SC,{className:"divide-x divide-infoBlue",children:[(0,a.jsx)(N.ss,{className:"font-medium text-black text-base",children:"Name"}),(0,a.jsx)(N.ss,{className:"font-medium text-black text-base",children:"Total contacts"}),(0,a.jsx)(N.ss,{className:"w-[150px] font-medium text-black text-base",children:"Status"}),(0,a.jsx)(N.ss,{className:"w-[180px] font-medium text-black text-base",children:"Sent at"}),(0,a.jsx)(N.ss,{className:"w-[150px] font-medium text-black text-base",children:"Actions"})]})}),(0,a.jsx)(N.RM,{children:[...Array(10)].map((e,t)=>(0,a.jsxs)(N.SC,{children:[(0,a.jsx)(N.pj,{className:"py-1.5  h-6",children:(0,a.jsx)(h.O,{className:"h-4 w-[140px]"})}),(0,a.jsx)(N.pj,{className:"py-1.5  h-6",children:(0,a.jsx)(h.O,{className:"h-4 w-[240px]"})}),(0,a.jsx)(N.pj,{className:"w-[150px] py-1.5  h-6",children:(0,a.jsx)(h.O,{className:"h-4 w-[60px]"})}),(0,a.jsx)(N.pj,{className:"w-[180px] py-1.5  h-6",children:(0,a.jsx)(h.O,{className:"h-4 w-[60px]"})}),(0,a.jsx)(N.pj,{className:"w-[150px] py-1.5 h-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,a.jsx)(h.O,{className:"h-5 w-5"}),(0,a.jsx)(h.O,{className:"h-5 w-5"}),(0,a.jsx)(h.O,{className:"h-5 w-5"})]})})]},t))})]})}},4634:function(e,t,s){"use strict";s.d(t,{J2:function(){return i},xo:function(){return c},yk:function(){return o}});var a=s(7437),n=s(2265),r=s(1485),l=s(8214);let i=r.fC,c=r.xz,o=n.forwardRef((e,t)=>{let{className:s,align:n="center",sideOffset:i=4,...c}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsx)(r.VY,{ref:t,align:n,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...c})})});o.displayName=r.VY.displayName},635:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});var a=s(7437),n=s(8214);function r(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...s})}},1623:function(e,t,s){"use strict";s.d(t,{RM:function(){return c},SC:function(){return o},iA:function(){return l},pj:function(){return u},ss:function(){return d},xD:function(){return i}});var a=s(7437),n=s(2265),r=s(8214);let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",s),...n})})});l.displayName="Table";let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",s),...n})});i.displayName="TableHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",s),...n})});c.displayName="TableBody",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n})}).displayName="TableFooter";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n})});o.displayName="TableRow";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...n})});d.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",s),...n})}).displayName="TableCaption"},1485:function(e,t,s){"use strict";s.d(t,{VY:function(){return W},fC:function(){return G},h_:function(){return I},xz:function(){return V}});var a=s(2265),n=s(8149),r=s(1584),l=s(8324),i=s(2358),c=s(589),o=s(467),d=s(3201),u=s(7683),p=s(6935),x=s(1383),m=s(5171),f=s(1538),h=s(1715),j=s(8369),b=s(9219),v=s(7437),N="Popover",[g,w]=(0,l.b)(N,[u.D7]),y=(0,u.D7)(),[_,C]=g(N),k=e=>{let{__scopePopover:t,children:s,open:n,defaultOpen:r,onOpenChange:l,modal:i=!1}=e,c=y(t),o=a.useRef(null),[p,x]=a.useState(!1),[m=!1,f]=(0,h.T)({prop:n,defaultProp:r,onChange:l});return(0,v.jsx)(u.fC,{...c,children:(0,v.jsx)(_,{scope:t,contentId:(0,d.M)(),triggerRef:o,open:m,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:p,onCustomAnchorAdd:a.useCallback(()=>x(!0),[]),onCustomAnchorRemove:a.useCallback(()=>x(!1),[]),modal:i,children:s})})};k.displayName=N;var R="PopoverAnchor";a.forwardRef((e,t)=>{let{__scopePopover:s,...n}=e,r=C(R,s),l=y(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=r;return a.useEffect(()=>(i(),()=>c()),[i,c]),(0,v.jsx)(u.ee,{...l,...n,ref:t})}).displayName=R;var P="PopoverTrigger",O=a.forwardRef((e,t)=>{let{__scopePopover:s,...a}=e,l=C(P,s),i=y(s),c=(0,r.e)(t,l.triggerRef),o=(0,v.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":B(l.open),...a,ref:c,onClick:(0,n.M)(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?o:(0,v.jsx)(u.ee,{asChild:!0,...i,children:o})});O.displayName=P;var F="PopoverPortal",[M,A]=g(F,{forceMount:void 0}),S=e=>{let{__scopePopover:t,forceMount:s,children:a,container:n}=e,r=C(F,t);return(0,v.jsx)(M,{scope:t,forceMount:s,children:(0,v.jsx)(x.z,{present:s||r.open,children:(0,v.jsx)(p.h,{asChild:!0,container:n,children:a})})})};S.displayName=F;var D="PopoverContent",z=a.forwardRef((e,t)=>{let s=A(D,e.__scopePopover),{forceMount:a=s.forceMount,...n}=e,r=C(D,e.__scopePopover);return(0,v.jsx)(x.z,{present:a||r.open,children:r.modal?(0,v.jsx)(T,{...n,ref:t}):(0,v.jsx)(E,{...n,ref:t})})});z.displayName=D;var T=a.forwardRef((e,t)=>{let s=C(D,e.__scopePopover),l=a.useRef(null),i=(0,r.e)(t,l),c=a.useRef(!1);return a.useEffect(()=>{let e=l.current;if(e)return(0,j.Ry)(e)},[]),(0,v.jsx)(b.Z,{as:f.g7,allowPinchZoom:!0,children:(0,v.jsx)(Z,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),c.current||null===(t=s.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,n.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey,a=2===t.button||s;c.current=a},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),E=a.forwardRef((e,t)=>{let s=C(D,e.__scopePopover),n=a.useRef(!1),r=a.useRef(!1);return(0,v.jsx)(Z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,l;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current||null===(l=s.triggerRef.current)||void 0===l||l.focus(),t.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:t=>{var a,l;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(r.current=!0));let i=t.target;(null===(l=s.triggerRef.current)||void 0===l?void 0:l.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&r.current&&t.preventDefault()}})}),Z=a.forwardRef((e,t)=>{let{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:r,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:x,onInteractOutside:m,...f}=e,h=C(D,s),j=y(s);return(0,c.EW)(),(0,v.jsx)(o.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:r,children:(0,v.jsx)(i.XB,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:x,onDismiss:()=>h.onOpenChange(!1),children:(0,v.jsx)(u.VY,{"data-state":B(h.open),role:"dialog",id:h.contentId,...j,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose";function B(e){return e?"open":"closed"}a.forwardRef((e,t)=>{let{__scopePopover:s,...a}=e,r=C(L,s);return(0,v.jsx)(m.WV.button,{type:"button",...a,ref:t,onClick:(0,n.M)(e.onClick,()=>r.onOpenChange(!1))})}).displayName=L,a.forwardRef((e,t)=>{let{__scopePopover:s,...a}=e,n=y(s);return(0,v.jsx)(u.Eh,{...n,...a,ref:t})}).displayName="PopoverArrow";var G=k,V=O,I=S,W=z}},function(e){e.O(0,[864,601,212,971,23,744],function(){return e(e.s=3431)}),_N_E=e.O()}]);