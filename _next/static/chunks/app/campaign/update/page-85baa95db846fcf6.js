(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{67:function(){},2061:function(){},779:function(e,t,a){Promise.resolve().then(a.bind(a,4349))},4349:function(e,t,a){"use strict";a.r(t),a.d(t,{ImportFile:function(){return ef},SectionLayout:function(){return ec},TemplateBox:function(){return eu},default:function(){return eo}});var r=a(7437),s=a(2265),l=a(4987),n=a(7800);a(9669);var i=a(7776),o=a(4862),d=a(9343),c=a(3277),u=a(1014),m=a(5404),f=a(933),p=a(4817),x=a(9832),h=a(1510),g=a(6370),b=a(2200),j=a(3274),N=a(6603),v=a(6463),y=a(1444),w=a(7444),_=a(7101),k=a(9256),C=a(9772),S=a(2447),z=a(8214);let R=S.fC,I=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(S.aV,{ref:t,className:(0,z.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});I.displayName=S.aV.displayName;let B=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(S.xz,{ref:t,className:(0,z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});B.displayName=S.xz.displayName;let E=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(S.VY,{ref:t,className:(0,z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});E.displayName=S.VY.displayName;var F=a(2218),D=a(1935),V=a(4697),Y=a(2421),Z=a(2468),T=a(1773),O=a(8484);let G=s.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:l=!0,...n}=e;return(0,r.jsx)(O.f,{ref:t,decorative:l,orientation:s,className:(0,z.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...n})});G.displayName=O.f.displayName;var A=a(1619),L=a(4634),J=a(5353);a(5094);let P=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(J.mY,{ref:t,className:(0,z.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...s})});P.displayName=J.mY.displayName;let U=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(p.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(J.mY.Input,{ref:t,className:(0,z.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...s})]})});U.displayName=J.mY.Input.displayName;let X=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(J.mY.List,{ref:t,className:(0,z.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...s})});X.displayName=J.mY.List.displayName;let M=s.forwardRef((e,t)=>(0,r.jsx)(J.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));M.displayName=J.mY.Empty.displayName;let W=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(J.mY.Group,{ref:t,className:(0,z.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...s})});W.displayName=J.mY.Group.displayName;let q=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(J.mY.Separator,{ref:t,className:(0,z.cn)("-mx-1 h-px bg-border",a),...s})});q.displayName=J.mY.Separator.displayName;let H=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(J.mY.Item,{ref:t,className:(0,z.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground",a),...s})});H.displayName=J.mY.Item.displayName;let K=(0,F.j)("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),Q=s.forwardRef((e,t)=>{let{options:a,onValueChange:l,variant:n,defaultValue:i=[],placeholder:o="Select options",animation:d=0,maxCount:c=3,modalPopover:u=!1,asChild:m=!1,className:f,...p}=e,[x,h]=s.useState(i),[g,j]=s.useState(!1),[N,v]=s.useState(!1);s.useEffect(()=>{JSON.stringify(x)!==JSON.stringify(i)&&h(x)},[i,x]);let y=e=>{let t=x.includes(e)?x.filter(t=>t!==e):[...x,e];h(t),l(t)},w=()=>{h([]),l([])},_=()=>{let e=x.slice(0,c);h(e),l(e)};return(0,r.jsxs)(L.J2,{open:g,onOpenChange:j,modal:u,children:[(0,r.jsx)(L.xo,{asChild:!0,children:(0,r.jsx)(b.z,{ref:t,...p,onClick:()=>{j(e=>!e)},className:(0,z.cn)("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit",f),children:x.length>0?(0,r.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[x.slice(0,c).map(e=>{let t=a.find(t=>t.value===e),s=null==t?void 0:t.icon;return(0,r.jsxs)(A.C,{className:(0,z.cn)(N?"animate-bounce":"",K({variant:n})),style:{animationDuration:"".concat(d,"s")},children:[s&&(0,r.jsx)(s,{className:"h-4 w-4 mr-2"}),null==t?void 0:t.label,(0,r.jsx)(D.Z,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:t=>{t.stopPropagation(),y(e)}})]},e)}),x.length>c&&(0,r.jsxs)(A.C,{className:(0,z.cn)("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",N?"animate-bounce":"",K({variant:n})),style:{animationDuration:"".concat(d,"s")},children:["+ ".concat(x.length-c," more"),(0,r.jsx)(D.Z,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:e=>{e.stopPropagation(),_()}})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(V.Z,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:e=>{e.stopPropagation(),w()}}),(0,r.jsx)(G,{orientation:"vertical",className:"flex min-h-6 h-full"}),(0,r.jsx)(Y.Z,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):(0,r.jsxs)("div",{className:"flex items-center justify-between w-full mx-auto",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground mx-3",children:o}),(0,r.jsx)(Y.Z,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),(0,r.jsx)(L.yk,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>j(!1),children:(0,r.jsxs)(P,{children:[(0,r.jsx)(U,{placeholder:"Search...",onKeyDown:e=>{if("Enter"===e.key)j(!0);else if("Backspace"===e.key&&!e.currentTarget.value){let e=[...x];e.pop(),h(e),l(e)}}}),(0,r.jsxs)(X,{children:[(0,r.jsx)(M,{children:"No results found."}),(0,r.jsxs)(W,{children:[(0,r.jsxs)(H,{onSelect:()=>{if(x.length===a.length)w();else{let e=a.map(e=>e.value);h(e),l(e)}},className:"cursor-pointer",children:[(0,r.jsx)("div",{className:(0,z.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",x.length===a.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,r.jsx)(Z.Z,{className:"h-4 w-4"})}),(0,r.jsx)("span",{children:"(Select All)"})]},"all"),a.map(e=>{let t=x.includes(e.value);return(0,r.jsxs)(H,{onSelect:()=>y(e.value),className:"cursor-pointer",children:[(0,r.jsx)("div",{className:(0,z.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,r.jsx)(Z.Z,{className:"h-4 w-4"})}),e.icon&&(0,r.jsx)(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{children:e.label})]},e.value)})]}),(0,r.jsx)(q,{}),(0,r.jsx)(W,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[x.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(H,{onSelect:w,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),(0,r.jsx)(G,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),(0,r.jsx)(H,{onSelect:()=>j(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),d>0&&x.length>0&&(0,r.jsx)(T.Z,{className:(0,z.cn)("cursor-pointer my-2 text-foreground bg-background w-3 h-3",N?"":"text-muted-foreground"),onClick:()=>v(!N)})]})});Q.displayName="MultiSelect";var $=a(7066),ee=a(7147),et=a(2151),ea=a.n(et),er=a(6648);let es=[{breadcrumbTitle:"Dashboard",breadcrumbLink:"/"},{breadcrumbTitle:"Campaigns",breadcrumbLink:"/campaign"},{breadcrumbTitle:"Create Broadcast"}],el={details:{title:"Details",sub_title:"Name your Broadcast"},template:{title:"Select a Template",sub_title:"The template will be the base for your message."},recipients:{title:"Add Recipients",sub_title:"Select which method you want to use to add recipients"},label:{title:"Add Labels",sub_title:"Automatically add labels to contacts if the broadcast is sent."},variable:{title:"Template Variables",sub_title:"Add variables to the message"},file:{title:"Template File",sub_title:"Add file to the file"}},en=[{value:0,title:"Send the broadcast immediately",btn_title:"Send Now",icon:m.Z},{value:1,title:"Schedule the broadcast for later",btn_title:"Schedule",icon:f.Z}],ei=C.z.object({cp_name:C.z.string().min(1,{message:"Campaign Name is required"}),cp_details:C.z.string().min(1,{message:"Campaign Details are required"}),contact_created:C.z.string().min(1,{message:"Please select a contact to display."}),select_label_to_add:C.z.string().min(1,{message:"Select labels to add is required"}),variableList:C.z.array(C.z.object({label:C.z.string().min(1,{message:"Label is required"}),value:C.z.string().min(1,{message:"Variable value is required"})})).optional(),temp_url:C.z.string().url({message:"Invalid URL format"}).optional()});function eo(){let e=(0,v.useRouter)(),t=(0,y.v9)(e=>e.universalReducer.business),[a,n]=(0,s.useState)([]),[o,m]=(0,s.useState)([]),[f,x]=(0,s.useState)([]),[h,C]=(0,s.useState)(en[0]),[S,z]=(0,s.useState)(""),[F,D]=(0,s.useState)([]),[V,Y]=(0,s.useState)(!1),[Z,T]=(0,s.useState)(!1),[O,G]=(0,s.useState)(""),[A,L]=(0,s.useState)(""),[J,P]=(0,s.useState)(null),[U,X]=(0,s.useState)(null),[M,W]=(0,s.useState)(null),q=(0,d.cI)({resolver:(0,u.F)(ei)}),H=(0,s.useCallback)(ea()(e=>{G(e)},1e3),[]),K=e=>{let t=e.components.find(e=>"BODY"===e.type),a=e.components.find(e=>"HEADER"===e.type);if(a&&X(a.format),t){let e=t.text.match(/{{\d+}}/g);x(e?e.map(e=>({label:e,value:""})):[])}z(e)},et=(e,t)=>{let a=e.target.value,r=[...f];r[t]={...r[t],value:a},x(r)},er=async()=>{Y(!0);let e=new FormData;e.append("temp_client",null==t?void 0:t.wp_cr_client_id),e.append("sync",0),e.append("template_status",""),e.append("skip","all"),e.append("search",O);try{let t=await (0,g.l)("template/template-list",e);1===t.success?(Y(!1),n(t.data.data)):Y(!1)}catch(e){Y(!1),console.error("Failed to fetch template list:",e)}},eo=async()=>{try{let e=await (0,g.l)("label/contact-create-labels");1===e.success&&m(e.data.contact_create_labels_list_list)}catch(e){console.error("Failed to fetch template list:",e)}},em=async()=>{let e=new FormData;e.append("search","");try{let t=await (0,g.l)("label/label-list",e);if(1===t.success){let e=t.data.labels_list.map(e=>({label:e.label_name,value:e.label_id}));D(e)}}catch(e){console.error("Failed to fetch label list:",e)}},ep=async a=>{T(!0);let r=f.map(e=>e.value),s=new FormData;s.append("client_no",null==t?void 0:t.wp_cr_client_id),s.append("campaign_id",""),s.append("campaign_date",""),s.append("campaign_name",a.cp_name),s.append("campaign_labels",a.select_label_to_add),s.append("campaign_details",a.cp_details),s.append("campaign_template",S.temp_id),s.append("campaign_type",h.value||0),s.append("campaign_temp_variables",JSON.stringify(r)),s.append("campaign_recipients",JSON.stringify(A)),s.append("campaign_file",J),s.append("header_type",U.toLowerCase()||""),s.append("attachment_file",M||""),s.append("attachment_url",a.temp_url||""),s.append("attachment_type",U?"TEXT"===U?"":"document":"");try{let t=await (0,g.l)("campaign/add-or-edit-campaign",s);1===t.success?(T(!1),(0,i.Am)(t.message),e.push("/campaign")):((0,i.Am)(t.message),T(!1))}catch(e){T(!1),console.error("Failed to fetch label list:",e)}};return(0,s.useEffect)(()=>{eo(),em()},[]),(0,s.useEffect)(()=>{er()},[O]),(0,r.jsx)(l.WB,{breadcrumbNav:es,children:(0,r.jsx)("section",{className:"w-full max-w-6xl mx-auto px-2",children:(0,r.jsx)($.l0,{...q,children:(0,r.jsxs)("form",{onSubmit:q.handleSubmit(ep),className:"w-full space-y-6",children:[(0,r.jsx)(ec,{heading:el.details,children:(0,r.jsxs)("div",{className:"w-full bg-background border border-infoBlue p-4 rounded-lg space-y-2.5",children:[(0,r.jsx)($.Wi,{control:q.control,name:"cp_name",render:e=>{let{field:t}=e;return(0,r.jsxs)($.xJ,{children:[(0,r.jsx)($.lX,{children:"Campaigns Name"}),(0,r.jsx)($.NI,{children:(0,r.jsx)(ee.I,{placeholder:"Festival discount",...t})}),(0,r.jsx)($.zG,{})]})}}),(0,r.jsx)($.Wi,{control:q.control,name:"cp_details",render:e=>{let{field:t}=e;return(0,r.jsxs)($.xJ,{children:[(0,r.jsx)($.lX,{children:"Campaigns Details"}),(0,r.jsx)($.NI,{children:(0,r.jsx)(N.g,{className:"resize-none",placeholder:"This Campaigns about festival discount",...t})}),(0,r.jsx)($.zG,{})]})}})]})}),(0,r.jsx)(ec,{heading:el.template,children:(0,r.jsxs)("div",{className:"w-full bg-background border border-infoBlue divide-y divide-infoBlue rounded-lg",children:[(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"w-full border border-infoBlue rounded-lg flex items-center gap-1",children:[(0,r.jsx)("div",{className:"min-w-10 h-auto max-w-10 flex items-stretch justify-center",children:(0,r.jsx)(p.Z,{className:"w-5 h-5"})}),(0,r.jsx)(ee.I,{placeholder:"Search Template",className:"outline-none border-0 focus:outline-none focus:border-0",onChange:e=>{H(e.target.value)}})]})}),(0,r.jsx)(w.x,{className:"p-4 h-96",children:V?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:"Loading..."}):a&&a.length>0?(0,r.jsx)("ul",{className:"grid grid-cols-2 gap-2",children:a.map((e,t)=>(0,r.jsx)(eu,{item:e,onSelect:()=>K(e),isSelected:S.temp_id===e.temp_id},t))}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("p",{children:"List Not Found!!!"})})})]})}),(0,r.jsx)(ec,{heading:el.recipients,children:(0,r.jsxs)(R,{defaultValue:"account",className:"w-full bg-background border border-infoBlue rounded-lg divide-y divide-infoBlue",children:[(0,r.jsxs)(I,{className:"w-full justify-start bg-background",children:[(0,r.jsx)(B,{value:"account",children:"Filter contact list"}),(0,r.jsx)(B,{value:"password",children:"Import list from file"})]}),(0,r.jsx)(E,{value:"account",className:"mt-0 p-4",children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)($.Wi,{control:q.control,name:"contact_created",render:e=>{let{field:t}=e;return(0,r.jsxs)($.xJ,{children:[(0,r.jsx)($.lX,{children:"Contact created"}),(0,r.jsxs)(k.Ph,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)($.NI,{children:(0,r.jsx)(k.i4,{children:(0,r.jsx)(k.ki,{placeholder:"Select Contact created"})})}),(0,r.jsx)(k.Bw,{children:o&&o.map(e=>(0,r.jsx)(k.Ql,{value:e.key,children:e.value},e.key))})]}),(0,r.jsx)($.zG,{})]})}}),(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)($.Wi,{control:q.control,name:"select_labels",render:e=>{let{field:t}=e;return(0,r.jsxs)($.xJ,{children:[(0,r.jsx)($.lX,{children:"Select labels"}),(0,r.jsx)($.NI,{children:(0,r.jsx)(Q,{options:F,onValueChange:t.onChange,defaultValue:t.value,placeholder:"Select options",variant:"inverted",animation:!1,maxCount:5})}),(0,r.jsx)($.zG,{})]})}})})]})}),(0,r.jsx)(E,{value:"password",className:"mt-0 p-4",children:(0,r.jsx)(ef,{onUpdate:(e,t)=>{L(e),P(t)}})})]})}),(0,r.jsx)(ec,{heading:el.label,children:(0,r.jsx)("div",{className:"w-full bg-background border border-infoBlue rounded-lg p-4 overflow-hidden space-y-2",children:(0,r.jsx)($.Wi,{control:q.control,name:"select_label_to_add",render:e=>{let{field:t}=e;return(0,r.jsxs)($.xJ,{children:[(0,r.jsx)($.lX,{children:" Select labels to add  "}),(0,r.jsx)($.NI,{children:(0,r.jsx)(ee.I,{placeholder:"ex. text1, text2",...t})}),(0,r.jsx)($.pf,{children:"For new label use (,) and space."}),(0,r.jsx)($.zG,{})]})}})})}),f&&f.length>0?(0,r.jsx)(ec,{heading:el.variable,children:(0,r.jsx)("div",{className:"w-full bg-background border border-infoBlue rounded-lg p-4 space-y-4",children:f.map((e,t)=>(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(c._,{children:e.label}),(0,r.jsx)(ee.I,{onChange:e=>et(e,t),className:"resize-none",placeholder:"enter ".concat(e.label," text")})]},t))})}):null,U&&"TEXT"!==U?(0,r.jsx)(ec,{heading:el.file,children:(0,r.jsx)("div",{className:"w-full bg-background border border-infoBlue rounded-lg p-4 space-y-4",children:(0,r.jsxs)("div",{className:"border border-infoBlue w-full rounded-lg flex items-stretch overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative w-full h-auto max-w-48 border-r text-center border-infoBlue flex items-center justify-center",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Choose file"}),(0,r.jsx)(ee.I,{type:"file",onChange:e=>{W(e.target.files[0])},accept:ed(U),className:"opacity-0 w-full h-full absolute inset-0"})]}),(0,r.jsx)($.Wi,{className:"w-full",control:q.control,name:"temp_url",render:e=>{let{field:t}=e;return(0,r.jsxs)($.xJ,{className:"w-full",children:[(0,r.jsx)(ee.I,{type:"url",...t,className:"border-0 outline-none w-full",placeholder:"ex. xyz.com/images/image-10.png"}),(0,r.jsx)($.zG,{})]})}})]})})}):null,(0,r.jsx)(ec,{children:(0,r.jsx)("div",{className:"w-full bg-background border border-infoBlue rounded-lg p-4 ",children:(0,r.jsx)(_.t,{type:"single",onValueChange:e=>{C(e)},value:h,className:"w-full grid grid-cols-2 gap-4",children:en&&en.map(e=>(0,r.jsxs)(_.G,{id:e.value,value:e,className:"border border-infoBlue rounded-lg custom-box-shadow space-y-3.5 flex-col h-auto py-9",children:[(0,r.jsx)(e.icon,{size:24}),(0,r.jsx)("h6",{className:"text-lg",children:e.title}),(0,r.jsx)(b.z,{className:"block bg-successGreenLight",children:e.btn_title})]},e))})})}),(0,r.jsx)(ec,{children:(0,r.jsx)("div",{className:"w-full bg-background border border-infoBlue rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)(b.z,{variant:"outline",type:"submit",className:"rounded-full bg-successGreenLight text-background",disabled:Z,children:[Z&&(0,r.jsx)(j.Z,{className:"w-5 h-5 mr-2.5 animate-spin"}),"Save Campaign"]})})]})})})]})})})})}let ed=e=>{switch(e){case"IMAGE":return"image/*";case"VIDEO":return"video/*";case"DOCUMENT":return"application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"AUDIO":return"audio/*";default:return""}};function ec(e){let{children:t,heading:a}=e;return(0,r.jsxs)("div",{className:"flex items-start w-full gap-6",children:[(0,r.jsxs)("div",{className:"w-full min-w-64 max-w-64",children:[(0,r.jsx)("h4",{className:"font-medium text-lg",children:null==a?void 0:a.title}),(0,r.jsx)("p",{className:"text-[#857E7E] text-sm",children:null==a?void 0:a.sub_title})]}),(0,r.jsx)("div",{className:"w-full",children:t})]})}function eu(e){let{item:t,onSelect:a,isSelected:s}=e;return(0,r.jsxs)("li",{className:"border w-full overflow-hidden rounded-lg border-infoBlue h-fit ".concat(s?"bg-gray-100":""),onClick:a,children:[(0,r.jsx)("div",{className:"w-full px-1.5 py-1 border-b border-infoBlue",children:(0,r.jsx)("p",{className:"text-center font-semibold",children:t.name})}),t.components&&t.components.map((e,t)=>(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{children:[(null==e?void 0:e.type)==="HEADER"&&(0,r.jsxs)("div",{className:"px-2.5 py-2",children:["TEXT"===e.format&&(0,r.jsx)("p",{className:"text-sm font-semibold",children:e.text}),"IMAGE"===e.format&&(0,r.jsx)("div",{className:"w-full flex justify-center",children:(0,r.jsx)(er.default,{src:e.example.header_handle[0],alt:"Header Image",className:"max-w-full h-auto",width:240,height:90})}),"VIDEO"===e.format&&(0,r.jsx)("div",{className:"w-full flex justify-center",children:(0,r.jsxs)("video",{controls:!0,className:"max-w-full h-auto",children:[(0,r.jsx)("source",{src:e.example.header_handle[0],type:"video/mp4"}),"Your browser does not support the video tag."]})}),"DOCUMENT"===e.format&&(0,r.jsx)("div",{className:"w-full flex justify-center",children:(0,r.jsx)("iframe",{src:e.example.header_handle[0],className:"w-full h-96 border rounded-lg",children:"Your browser does not support iframes."})})]}),(null==e?void 0:e.type)==="BODY"&&(null==e?void 0:e.text)&&(0,r.jsx)("div",{className:"px-2.5 py-2",children:(0,r.jsx)("p",{className:"text-sm",children:e.text})}),(null==e?void 0:e.type)==="FOOTER"&&(null==e?void 0:e.text)&&(0,r.jsx)("div",{className:"px-2.5 py-2",children:(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e.text})})]}),(null==e?void 0:e.type)==="BUTTONS"&&(null==e?void 0:e.buttons)&&(0,r.jsx)("div",{className:"border-t border-infoBlue",children:e.buttons.map((e,t)=>(0,r.jsxs)(b.z,{variant:"ghost",className:"text-center text-sm justify-center w-full capitalize rounded-none h-auto py-2 text-cyan-500",children:["PHONE_NUMBER"===e.type&&(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"QUICK_REPLY"===e.type&&(0,r.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),e.text]},t))})]},t))]})}let em=e=>0===e.length?[]:Object.keys(e[0]).map(e=>({key:e,name:e,editable:!0,formatter:t=>{let{row:a}=t;return a[e]}}));function ef(e){let{onUpdate:t}=e,[a,l]=(0,s.useState)([]),[i,d]=(0,s.useState)(null),c=em(a);return(0,r.jsxs)("div",{className:"w-full flex flex-col items-center justify-center",children:[!a.length&&(0,r.jsxs)("div",{className:"w-full max-w-sm mx-auto border border-dotted rounded-lg h-40 flex items-center justify-center relative",children:[(0,r.jsx)("p",{className:"text-center text-gray-400",children:"Choose File"}),(0,r.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0",accept:".csv, .xlsx",onChange:e=>{let a=e.target.files[0];if(a){d(a);let e=new FileReader;e.onload=e=>{let r=new Uint8Array(e.target.result),s=n.ij(r,{type:"array"}),i=s.SheetNames[0],o=s.Sheets[i],d=n.P6.sheet_to_json(o);l(d),t(d,a)},e.readAsArrayBuffer(a)}}})]}),a.length>0&&(0,r.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,r.jsx)(o.ZP,{columns:c,rows:a,rowHeight:40,headerRowHeight:50,onRowsUpdate:e=>{let r=a.map(t=>{let a=e.find(e=>e.id===t.id);return a?{...t,...a}:t});l(r),t(r,i)}})})]})}},1619:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var r=a(7437);a(2265);var s=a(2218),l=a(8214);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:a}),t),...s})}},5094:function(e,t,a){"use strict";a.d(t,{$N:function(){return p},Be:function(){return x},Vq:function(){return o},cN:function(){return f},cZ:function(){return u},fK:function(){return m}});var r=a(7437),s=a(2265),l=a(3304),n=a(4697),i=a(8214);let o=l.fC;l.xz;let d=l.h_;l.x8;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});c.displayName=l.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(l.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:[s,(0,r.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(n.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};m.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=l.Dx.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=l.dk.displayName},7066:function(e,t,a){"use strict";a.d(t,{NI:function(){return h},Wi:function(){return u},l0:function(){return d},lX:function(){return x},pf:function(){return g},xJ:function(){return p},zG:function(){return b}});var r=a(7437),s=a(2265),l=a(1538),n=a(9343),i=a(8214),o=a(3277);let d=n.RV,c=s.createContext({}),u=e=>{let{...t}=e;return(0,r.jsx)(c.Provider,{value:{name:t.name},children:(0,r.jsx)(n.Qr,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(f),{getFieldState:a,formState:r}=(0,n.Gc)(),l=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},f=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:a,...l}=e,n=s.useId();return(0,r.jsx)(f.Provider,{value:{id:n},children:(0,r.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...l})})});p.displayName="FormItem";let x=s.forwardRef((e,t)=>{let{className:a,...s}=e,{error:l,formItemId:n}=m();return(0,r.jsx)(o._,{ref:t,className:(0,i.cn)(l&&"text-destructive",a),htmlFor:n,...s})});x.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...a}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:o}=m();return(0,r.jsx)(l.g7,{ref:t,id:n,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...a})});h.displayName="FormControl";let g=s.forwardRef((e,t)=>{let{className:a,...s}=e,{formDescriptionId:l}=m();return(0,r.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});g.displayName="FormDescription";let b=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e,{error:n,formMessageId:o}=m(),d=n?String(null==n?void 0:n.message):s;return d?(0,r.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",a),...l,children:d}):null});b.displayName="FormMessage"},7147:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var r=a(7437),s=a(2265),l=a(8214);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});n.displayName="Input"},3277:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var r=a(7437),s=a(2265),l=a(8364),n=a(2218),i=a(8214);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.f,{ref:t,className:(0,i.cn)(o(),a),...s})});d.displayName=l.f.displayName},4634:function(e,t,a){"use strict";a.d(t,{J2:function(){return i},xo:function(){return o},yk:function(){return d}});var r=a(7437),s=a(2265),l=a(1485),n=a(8214);let i=l.fC,o=l.xz,d=s.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:i=4,...o}=e;return(0,r.jsx)(l.h_,{children:(0,r.jsx)(l.VY,{ref:t,align:s,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});d.displayName=l.VY.displayName},7444:function(e,t,a){"use strict";a.d(t,{x:function(){return i}});var r=a(7437),s=a(2265),l=a(23),n=a(8214);let i=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.fC,{ref:t,className:(0,n.cn)("relative overflow-hidden",a),...i,children:[(0,r.jsx)(l.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,r.jsx)(o,{}),(0,r.jsx)(l.Ns,{})]})});i.displayName=l.fC.displayName;let o=s.forwardRef((e,t)=>{let{className:a,orientation:s="vertical",...i}=e;return(0,r.jsx)(l.gb,{ref:t,orientation:s,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...i,children:(0,r.jsx)(l.q4,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=l.gb.displayName},9256:function(e,t,a){"use strict";a.d(t,{Bw:function(){return h},DI:function(){return u},Ph:function(){return c},Ql:function(){return g},i4:function(){return f},ki:function(){return m}});var r=a(7437),s=a(2265),l=a(7539),n=a(2421),i=a(4392),o=a(2468),d=a(8214);let c=l.fC,u=l.ZA,m=l.B4,f=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(l.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(l.JO,{asChild:!0,children:(0,r.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=l.xz.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=l.u_.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=l.$G.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...i}=e;return(0,r.jsx)(l.h_,{children:(0,r.jsxs)(l.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,r.jsx)(p,{}),(0,r.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(x,{})]})})});h.displayName=l.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=l.__.displayName;let g=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(l.eT,{children:s})]})});g.displayName=l.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.Z0.displayName},6603:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});var r=a(7437),s=a(2265),l=a(8214);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});n.displayName="Textarea"},7101:function(e,t,a){"use strict";a.d(t,{t:function(){return c},G:function(){return u}});var r=a(7437),s=a(2265),l=a(5750),n=a(8214),i=a(9425);let o=(0,a(2218).j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}});s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,...d}=e;return(0,r.jsx)(i.f,{ref:t,className:(0,n.cn)(o({variant:s,size:l,className:a})),...d})}).displayName=i.f.displayName;let d=s.createContext({size:"default",variant:"default"}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,children:o,...c}=e;return(0,r.jsx)(l.fC,{ref:t,className:(0,n.cn)("flex items-center justify-center gap-1",a),...c,children:(0,r.jsx)(d.Provider,{value:{variant:s,size:i},children:o})})});c.displayName=l.fC.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:i,variant:c,size:u,...m}=e,f=s.useContext(d);return(0,r.jsx)(l.ck,{ref:t,className:(0,n.cn)(o({variant:f.variant||c,size:f.size||u}),a),...m,children:i})});u.displayName=l.ck.displayName}},function(e){e.O(0,[864,86,425,601,306,374,226,770,154,724,212,971,23,744],function(){return e(e.s=779)}),_N_E=e.O()}]);