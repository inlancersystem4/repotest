import{_ as b,r as s,o as u,d as v,w as i,g as r,a as n,i as x,t as _,bK as T,D as k,c as p,F as y,e as D,n as M,E as w,x as O}from"./index-CObJ0xdd.js";import{S,h as A}from"./transition-DmPYughZ.js";import{W as $,G as L,V as I}from"./dialog-Bwww8Fqq.js";import{_ as N}from"./admin-logo-DCOArUCp.js";const P={components:{TransitionRoot:S,TransitionChild:A,Dialog:$,DialogPanel:L,DialogTitle:I},props:{isDelete:Boolean,item_name:String},methods:{closeModal(){this.$emit("close_modal")},deleteItem(){this.$emit("delete_item")},getText(){return this.item_name==="log out"?{title:this.item_name,subTitle:"Are you sure you want to Logout?",buttonText:`Yes, ${this.item_name}`}:this.item_name==="customersPremium0"?{title:"Make Premium",subTitle:"Are you sure to promote this customer to premium?",buttonText:"Yes, Make Premium"}:this.item_name==="customersPremium1"?{title:"Remove Premium",subTitle:"Are you sure to remove this customer from premium?",buttonText:"Yes, Remove Premium"}:{title:`Delete ${this.item_name}`,subTitle:`Are you sure you want to delete ${this.item_name}?`,buttonText:`Yes, Delete ${this.item_name}`}}}},R=n("div",{class:"fixed inset-0 bg-black/25"},null,-1),j={class:"fixed inset-0 overflow-y-auto"},V={class:"flex min-h-full items-center justify-center p-4 text-center"},B={class:"delete--sub_title"},Y={class:"flex items-stretch justify-end gap-2.5 w-full flex-1 mt-12"};function H(t,o,l,C,d,e){const m=s("TransitionChild"),f=s("DialogTitle"),h=s("DialogPanel"),a=s("Dialog"),g=s("TransitionRoot");return u(),v(g,{appear:"",show:l.isDelete,as:"template"},{default:i(()=>[r(a,{as:"div",onClose:e.closeModal,class:"relative z-10"},{default:i(()=>[r(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[R]),_:1}),n("div",j,[n("div",V,[r(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[r(h,{class:"w-full max-w-xl transform overflow-hidden category--modal rounded-md bg-white py-10 px-8 text-left align-middle shadow-md border border-solid border-base-color transition-all"},{default:i(()=>[r(f,{as:"h6",class:"modal--title !mb-2.5"},{default:i(()=>[x(_(e.getText().title),1)]),_:1}),n("p",B,_(e.getText().subTitle),1),n("div",Y,[n("button",{class:"delete--btn",onClick:o[0]||(o[0]=(...c)=>e.closeModal&&e.closeModal(...c))},"Cancel"),n("button",{class:"delete--btn fill",onClick:o[1]||(o[1]=(...c)=>e.deleteItem&&e.deleteItem(...c))},_(e.getText().buttonText),1)])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])}const W=b(P,[["render",H]]),q={components:{DeleteModal:W,VueSimpleContextMenu:T},data(){return{authStore:k(),navItem:[{id:"d7oq8",link_name:"floor",go_path:"/admin/floor",module_id:"1",active_path:[{path:"/admin/floor"},{path:"/admin/floor/tables"},{name:"floorSelectArea"},{name:"floorArea"},{name:"floorTiming"},{name:"floorAvailability"}]},{id:"j2dc1",link_name:"Menus",go_path:"/admin/menus",active_path:[{path:"/admin/menus"},{path:"/admin/menus/items"},{path:"/admin/menus/menu"}],module_id:"2"},{id:"md92n",link_name:"Customers",go_path:"/admin/customers",active_path:[{name:"adminCustomers"}],module_id:"4"},{id:"d83aj",link_name:"Users",go_path:"/admin/users",active_path:"/admin/users",module_id:"6"},{id:"d83jj",link_name:"Costing",go_path:"/admin/costing",active_path:[{name:"adminCosting"},{name:"adminCostingSupplierList"},{name:"adminCostingIngredientList"},{name:"adminCostingCalculationList"}],module_id:"7"}],userRole:JSON.parse(localStorage.getItem("user_role")),userShowModule:JSON.parse(localStorage.getItem("user_show_module")),floorContextMenu:[{name:"Tables",action:"tables"},{name:"Timings",action:"timings"},{name:"Area",action:"area"},{name:"Availability",action:"availability"}],logOutModal:!1,itemNameforDelete:"log out"}},computed:{filteredNavItems(){if(!this.userShowModule||!this.userRole)return[];const t=this.userShowModule.split(",").map(Number);return this.navItem.filter(o=>t.includes(Number(o.module_id)))}},methods:{isActive(t){return Array.isArray(t)?t.map(l=>l.path||l.name).some(l=>l===this.$route.path||l===this.$route.name):t===this.$route.path||t===this.$route.name},openlogOutModal(){this.logOutModal=!0},closelogOutModal(){this.logOutModal=!1},logOut(){this.authStore.logout()},handleContextMenu(t,o){this.$refs.vuefloorContextMenu.showMenu(t,o)},floorContextOptionClicked(t){t.option.action==="tables"&&this.$router.push({name:"floorTables"}),t.option.action==="timings"&&this.$router.push({name:"floorTiming"}),t.option.action==="area"&&this.$router.push({name:"floorArea"}),t.option.action==="availability"&&this.$router.push({name:"floorAvailability"})}}},z={class:"w-full flex items-start gap-4"},E=n("img",{src:N,alt:"f and f logo",class:"h-auto max-w-[160px]"},null,-1),F={class:"flex-1 bg-nav-bg py-1.5 px-4 border border-solid border-base-color border-r-0 flex items-center justify-between gap-1.5"},G={class:"list-none flex items-center gap-1.5"};function J(t,o,l,C,d,e){const m=s("RouterLink"),f=s("vue-simple-context-menu"),h=s("DeleteModal");return u(),p(y,null,[n("header",z,[r(m,{to:"/menu-list"},{default:i(()=>[E]),_:1}),n("div",F,[n("nav",G,[(u(!0),p(y,null,D(e.filteredNavItems,(a,g)=>(u(),p("li",{key:g,exact:""},[a.id==="d7oq8"?(u(),v(m,{key:0,to:a.go_path,class:M(["nav--link",{active:e.isActive(a.active_path)}]),onContextmenu:w(c=>e.handleContextMenu(c,a),["prevent"])},{default:i(()=>[x(_(a.link_name),1)]),_:2},1032,["to","class","onContextmenu"])):(u(),v(m,{key:1,to:a.go_path,class:M(["nav--link",{active:e.isActive(a.active_path)}])},{default:i(()=>[x(_(a.link_name),1)]),_:2},1032,["to","class"]))]))),128))]),n("button",{onClick:o[0]||(o[0]=(...a)=>e.openlogOutModal&&e.openlogOutModal(...a)),class:"nav--link"},"Log Out")])]),r(f,{"element-id":"1",options:d.floorContextMenu,ref:"vuefloorContextMenu",onOptionClicked:e.floorContextOptionClicked},null,8,["options","onOptionClicked"]),r(h,{isDelete:d.logOutModal,item_name:d.itemNameforDelete,onClose_modal:e.closelogOutModal,onDelete_item:e.logOut},null,8,["isDelete","item_name","onClose_modal","onDelete_item"])],64)}const K=b(q,[["render",J]]),U={components:{DefaultHeader:K}};function Q(t,o,l,C,d,e){const m=s("DefaultHeader");return u(),p("main",null,[r(m),O(t.$slots,"default")])}const oe=b(U,[["render",Q]]);export{W as D,oe as L};
