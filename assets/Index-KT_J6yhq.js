import{_ as P,b as L,r as d,o as c,d as k,w as D,a as e,g as u,c as r,e as m,F as h,j as _,t as i,B as y,C as I}from"./index-CObJ0xdd.js";import{f as N}from"./list-fetch-Bs_JyIgH.js";import{i as w}from"./item-delete-BEr_XWGk.js";import{L as v,D as M}from"./Default-BakE7Kt_.js";import{P as S}from"./Pagination-vvzSV-Y8.js";import{L as C}from"./ListPageHeader-DOfYKR_0.js";import"./transition-DmPYughZ.js";import"./dialog-Bwww8Fqq.js";import"./admin-logo-DCOArUCp.js";import"./menu-DH_SiPev.js";import"./use-text-value-C2hDVVix.js";import"./use-tree-walker-BsBza9zE.js";const E={components:{LayoutWrraper:v,Pagination:S,DeleteModal:M,ListPageHeader:C},data(){return{alertStore:L(),supplierList:[],currentPage:1,totalPages:1,skeletonEffect:!0,supplierId:"",itemNameforDelete:"",deleteModal:!1}},created(){this.fetchSupplierList()},methods:{updatePage(t){this.currentPage=t,this.fetchSupplierList()},deleteItem(t,o){t&&(this.deleteModal=!0,this.supplierId=t,this.itemNameforDelete=o)},async fetchSupplierList(){this.skeletonEffect=!0,this.supplierList=[];var t=new FormData;t.append("search",""),t.append("page",this.currentPage);const o=await N("supplier-list",t);o&&o.data.length!==0?(this.supplierList=o.data.supplier_lists,this.skeletonEffect=!1,this.totalPages=o.data.total_pages):(this.supplierList=[],this.skeletonEffect=!1)},closeDeleteModal(){this.deleteModal=!1,this.supplierId=""},async deleteSuppllier(){if(this.supplierId){var t=new FormData;t.append("supplier_id",this.supplierId),await w("supplier-remove",t)?(this.fetchSupplierList(),this.supplierId="",this.closeDeleteModal()):this.closeDeleteModal()}}}},l=t=>(y("data-v-1b107c1c"),t=t(),I(),t),B={class:"w-full custom-container mx-auto px-2.5 mt-4 pb-4"},F={class:"table costing--table supplier--table"},j=l(()=>e("tr",null,[e("th",{class:"no"},"No."),e("th",{class:"sName"},"supplier Name"),e("th",{class:"tIngredient"},"Total Ingredient"),e("th",{class:"cPerson"},"Contact Person"),e("th",{class:"mNo"},"Mobile No"),e("th",{class:"action !text-center"},"Action")],-1)),H=l(()=>e("td",{class:"no"},[e("div",{class:"effect"},[e("span",{class:"bg-base-color h-[25px] rounded-md w-[25px] mx-auto block"})])],-1)),V=l(()=>e("td",{class:"sName"},[e("div",{class:"effect"},[e("span",{class:"bg-base-color h-[25px] rounded-md mx-auto w-[180px] block"})])],-1)),W=l(()=>e("td",{class:"tIngredient"},[e("div",{class:"effect space-y-1 text-center"},[e("span",{class:"bg-base-color h-[25px] rounded-md mx-auto w-[30px] block"})])],-1)),A=l(()=>e("td",{class:"cPerson"},[e("div",{class:"effect space-y-1 text-center"},[e("span",{class:"bg-base-color h-[25px] rounded-md w-[140px] block"})])],-1)),U=l(()=>e("td",{class:"mNo"},[e("div",{class:"effect space-y-1 text-center"},[e("span",{class:"bg-base-color h-[25px] mx-auto rounded-md w-[210px] block"})])],-1)),T=l(()=>e("td",{class:"action"},[e("div",{class:"effect flex items-center justify-center flex-wrap gap-1.5"},[e("span",{class:"bg-base-color h-[25px] rounded-md w-[42px] block"})])],-1)),q=[H,V,W,A,U,T],z={class:"no"},G={class:"sName"},J={class:"tIngredient"},K={class:"cPerson"},O={class:"mNo"},Q={class:"action !text-center"},R=["onClick","disabled"],X={key:1},Y=l(()=>e("td",{class:"!text-center",colspan:"6"},"No data Found!!",-1)),Z=[Y],$={key:0,class:"flex items-center justify-center w-full mt-8"};function ee(t,o,te,se,s,n){const f=d("ListPageHeader"),g=d("Pagination"),b=d("DeleteModal"),x=d("LayoutWrraper");return c(),k(x,null,{default:D(()=>[e("div",B,[u(f,{componentName:"supplier"}),e("table",F,[j,s.skeletonEffect?(c(),r(h,{key:0},m(16,(a,p)=>e("tr",{class:"animate-pulse",key:p},q)),64)):_("",!0),(c(!0),r(h,null,m(s.supplierList,(a,p)=>(c(),r("tr",{key:p},[e("td",z,i(p+1),1),e("td",G,i(a.supplier_name),1),e("td",J,i(a.ingredient_count),1),e("td",K,i(a.supplier_contact_person),1),e("td",O,i(a.supplier_mobile_no),1),e("td",Q,[e("button",{onClick:oe=>n.deleteItem(a.supplier_id,a.supplier_name),disabled:a.ingredient_count!=0,class:"disabled:opacity-50"}," Delete ",8,R)])]))),128)),!s.supplierList||s.supplierList.length===0?(c(),r("tr",X,Z)):_("",!0)]),s.supplierList&&s.supplierList.length!==0?(c(),r("div",$,[u(g,{currentPage:s.currentPage,totalPages:s.totalPages,onUpdate_page:n.updatePage},null,8,["currentPage","totalPages","onUpdate_page"])])):_("",!0)]),u(b,{isDelete:s.deleteModal,item_name:s.itemNameforDelete,onClose_modal:n.closeDeleteModal,onDelete_item:n.deleteSuppllier},null,8,["isDelete","item_name","onClose_modal","onDelete_item"])]),_:1})}const fe=P(E,[["render",ee],["__scopeId","data-v-1b107c1c"]]);export{fe as default};
